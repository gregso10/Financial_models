<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <title>pydeck</title>
        <script src="https://api.tiles.mapbox.com/mapbox-gl-js/v1.13.0/mapbox-gl.js"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" />
    <script src='https://cdn.jsdelivr.net/npm/@deck.gl/jupyter-widget@~9.0.*/dist/index.js'></script>
    <style>
    body {
  margin: 0;
  padding: 0;
  overflow: hidden;
}

#deck-container {
  width: 100vw;
  height: 100vh;
}

#deck-container canvas {
  z-index: 1;
  background: none;
}
    </style>
  </head>
  <body>
    <div id="deck-container">
    </div>
  </body>
  <script>
    const container = document.getElementById('deck-container');
    const jsonInput = {
  "initialViewState": {
    "bearing": 0,
    "latitude": 46.13844042857142,
    "longitude": 5.493819714285714,
    "pitch": 45,
    "zoom": 14
  },
  "layers": [
    {
      "@@type": "ColumnLayer",
      "autoHighlight": true,
      "data": [
        {
          "adresse_complete": "FARGES 1550 FARGES",
          "color": [
            198,
            56,
            0,
            140
          ],
          "commune": "FARGES",
          "id_mutation": "07/01/2025_468000,00_1",
          "latitude": 46.16712,
          "longitude": 5.907671,
          "surface_totale": 111.0,
          "valeur_fonciere": 468000.0
        },
        {
          "adresse_complete": "43 CHE DU QUART D AVO 1550 FARGES",
          "color": [
            255,
            0,
            0,
            140
          ],
          "commune": "FARGES",
          "id_mutation": "14/05/2025_600000,00_1",
          "latitude": 46.163667,
          "longitude": 5.904918,
          "surface_totale": 181.0,
          "valeur_fonciere": 600000.0
        },
        {
          "adresse_complete": "LES CHARBONNIERES 1550 FARGES",
          "color": [
            0,
            254,
            0,
            140
          ],
          "commune": "FARGES",
          "id_mutation": "19/03/2025_2000,00_3",
          "latitude": 45.971367,
          "longitude": 3.022101,
          "surface_totale": 0.0,
          "valeur_fonciere": 2000.0
        },
        {
          "adresse_complete": "839 RUE DE LA REPUBLIQUE 1550 FARGES",
          "color": [
            91,
            163,
            0,
            140
          ],
          "commune": "FARGES",
          "id_mutation": "19/05/2025_216000,00_1",
          "latitude": 46.167433,
          "longitude": 5.905708,
          "surface_totale": 61.0,
          "valeur_fonciere": 216000.0
        },
        {
          "adresse_complete": "LA PERCAILLE 1550 FARGES",
          "color": [
            2,
            252,
            0,
            140
          ],
          "commune": "FARGES",
          "id_mutation": "26/05/2025_7000,00_2",
          "latitude": 46.167858,
          "longitude": 5.907049,
          "surface_totale": 0.0,
          "valeur_fonciere": 7000.0
        },
        {
          "adresse_complete": "FARGES 1550 FARGES",
          "color": [
            155,
            99,
            0,
            140
          ],
          "commune": "FARGES",
          "id_mutation": "28/01/2025_365000,00_1",
          "latitude": 46.16712,
          "longitude": 5.907671,
          "surface_totale": 144.0,
          "valeur_fonciere": 365000.0
        },
        {
          "adresse_complete": "437 RUE PIERRE MALFANT 1550 FARGES",
          "color": [
            119,
            136,
            0,
            140
          ],
          "commune": "FARGES",
          "id_mutation": "28/02/2025_280000,00_1",
          "latitude": 46.164518,
          "longitude": 5.90162,
          "surface_totale": 125.0,
          "valeur_fonciere": 280000.0
        }
      ],
      "elevationScale": 0.1,
      "getElevation": "@@=valeur_fonciere",
      "getFillColor": "@@=color",
      "getPosition": "@@=[longitude, latitude]",
      "id": "66b9e0a4-87af-446d-a457-0586cde1aa79",
      "pickable": true,
      "radius": 20
    }
  ],
  "mapProvider": "carto",
  "mapStyle": "mapbox://styles/mapbox/light-v10",
  "views": [
    {
      "@@type": "MapView",
      "controller": true
    }
  ]
};
    const tooltip = {'html': '<b>Adresse:</b> {adresse_complete}<br/><b>Prix:</b> {valeur_fonciere} €<br/><b>Surface:</b> {surface_totale} m²', 'style': {'backgroundColor': 'steelblue', 'color': 'white'}};
    const customLibraries = null;
    const configuration = null;

    const deckInstance = createDeck({
                  container,
      jsonInput,
      tooltip,
      customLibraries,
      configuration
    });

  </script>
</html>